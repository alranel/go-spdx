.SUFFIXES: .y .ygo .go
.y.ygo:
	goyacc -o $@ $<
	rm y.output

.ygo.go:
	echo "// Code generated by goyacc\n" | cat - $< > $@
	gofmt -w $@


licenses-asset:
	node fetch_list.js
	go-bindata -pkg spdx -prefix json -o licenses_asset.go -ignore .gitkeep -nometadata json

gen: parser.go licenses-asset

clean:
	rm parser.go
